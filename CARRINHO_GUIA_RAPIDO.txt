â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   ğŸ›’ SISTEMA DE CARRINHO DE COMPRAS ğŸ›’                        â•‘
â•‘                           GUIA RÃPIDO VISUAL                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ FLUXO PRINCIPAL                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    CLIENTE                           HUB.PHP                       CARRINHO.PHP
        â”‚                                 â”‚                              â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€ Visualiza Produtos â”€â”€â”€â”€â”€>â”‚                              â”‚
        â”‚                                 â”‚                              â”‚
        â”‚                            Card com:                           â”‚
        â”‚                          â€¢ Nome do produto                      â”‚
        â”‚                          â€¢ PreÃ§o                               â”‚
        â”‚                          â€¢ Loja e Cidade                       â”‚
        â”‚                          â€¢ Estoque (âœ“/âœ—)                       â”‚
        â”‚                          â€¢ Campo de quantidade                 â”‚
        â”‚                          â€¢ BotÃ£o "+ Carrinho"                  â”‚
        â”‚                                 â”‚                              â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€ Clica BotÃ£o â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                              â”‚
        â”‚                           FormulÃ¡rio POST                      â”‚
        â”‚                          (id_produto, id_loja,                 â”‚
        â”‚                           quantidade)                          â”‚
        â”‚                                 â”‚                              â”‚
        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Redireciona â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚                                                                 â”‚
        â”‚                         SESSÃƒO CRIADA:                        â”‚
        â”‚                    $_SESSION['carrinho'][chave]               â”‚
        â”‚                    chave = "id_produto_id_loja"               â”‚
        â”‚                                                                 â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Visualiza Tabela â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
        â”‚                                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”
        â”‚                                                        â”‚   TABELA    â”‚
        â”‚                                                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚                                                        â”‚ Produto     â”‚
        â”‚                                                        â”‚ Categoria   â”‚
        â”‚                                                        â”‚ Loja/Cidade â”‚
        â”‚                                                        â”‚ Quantidade  â”‚
        â”‚                                                        â”‚ PreÃ§o       â”‚
        â”‚                                                        â”‚ Subtotal    â”‚
        â”‚                                                        â”‚ [Remover]   â”‚
        â”‚                                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Atualiza Qtd ou Remove â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
        â”‚                                                                 â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Clica "Finalizar Compra" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
        â”‚                                                                 â”‚
        â”‚                            VALIDAÃ‡ÃƒO:                          â”‚
        â”‚                    âœ“ Verifica estoque para cada item          â”‚
        â”‚                    âœ“ Se tudo OK, inicia transaÃ§Ã£o             â”‚
        â”‚                                                                 â”‚
        â”‚                         TRANSAÃ‡ÃƒO SQL:                         â”‚
        â”‚                    â€¢ INSERT Venda                             â”‚
        â”‚                    â€¢ INSERT ItemVenda (mÃºltiplo)               â”‚
        â”‚                    â€¢ UPDATE Estoque                            â”‚
        â”‚                    â€¢ COMMIT ou ROLLBACK                        â”‚
        â”‚                                                                 â”‚
        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Mensagem: "Compra finalizada #123" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ—„ï¸ ESTRUTURA DE DADOS NA SESSÃƒO                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    $_SESSION['carrinho'] = [
        '1_1' => [
            'id_produto' => 1,
            'id_loja' => 1,
            'quantidade' => 2
        ],
        '4_3' => [
            'id_produto' => 4,
            'id_loja' => 3,
            'quantidade' => 1
        ]
    ];

    CHAVE = "{id_produto}_{id_loja}"
    â”œâ”€ Permite ter MESMO produto em LOJAS DIFERENTES
    â””â”€ Cada combinaÃ§Ã£o Ã© um item Ãºnico no carrinho


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¾ TRANSAÃ‡ÃƒO SQL - PASSO A PASSO                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    1ï¸âƒ£ VALIDAÃ‡ÃƒO PRÃ‰-TRANSAÃ‡ÃƒO
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ SELECT e.quantidade_disponivel             â”‚
    â”‚ FROM Estoque e                             â”‚
    â”‚ WHERE id_produto = ? AND id_loja = ?       â”‚
    â”‚                                            â”‚
    â”‚ âœ“ Se quantidade >= desejada â†’ continua     â”‚
    â”‚ âœ— Se quantidade < desejada â†’ erro          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    2ï¸âƒ£ INICIAR TRANSAÃ‡ÃƒO
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ $pdo->beginTransaction();                  â”‚
    â”‚ (Se erro a partir daqui, TUDO Ã© desfeito) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    3ï¸âƒ£ INSERIR VENDA
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ INSERT INTO Venda                          â”‚
    â”‚ (id_cliente, id_loja, valor_total)         â”‚
    â”‚ VALUES (?, ?, ?)                           â”‚
    â”‚                                            â”‚
    â”‚ $id_venda = $pdo->lastInsertId();          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    4ï¸âƒ£ INSERIR ITENS (LOOP por cada produto)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ INSERT INTO ItemVenda                      â”‚
    â”‚ (id_venda, id_produto, quantidade,         â”‚
    â”‚  preco_unitario)                           â”‚
    â”‚ VALUES (?, ?, ?, ?)                        â”‚
    â”‚                                            â”‚
    â”‚ preco_unitario = calcula com desconto      â”‚
    â”‚ (se tipo='Usado': preco - desconto_usados) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    5ï¸âƒ£ ATUALIZAR ESTOQUE (LOOP por cada produto)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ UPDATE Estoque                             â”‚
    â”‚ SET quantidade_disponivel =                â”‚
    â”‚     quantidade_disponivel - ?              â”‚
    â”‚ WHERE id_produto = ? AND id_loja = ?       â”‚
    â”‚                                            â”‚
    â”‚ Reduz estoque na loja especÃ­fica           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    6ï¸âƒ£ CONFIRMAR TRANSAÃ‡ÃƒO
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ $pdo->commit();                            â”‚
    â”‚ (Salva TODAS as mudanÃ§as)                  â”‚
    â”‚                                            â”‚
    â”‚ OU se erro:                                â”‚
    â”‚ $pdo->rollBack();                          â”‚
    â”‚ (Desfaz TUDO - como se nada tivesse       â”‚
    â”‚  sido feito)                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’° CÃLCULO DE PREÃ‡OS                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    EXEMPLO 1: Produto Novo
    â”œâ”€ Nome: Notebook Pro
    â”œâ”€ Tipo: Novo
    â”œâ”€ PreÃ§o: R$ 1.799,99
    â”œâ”€ Desconto para usados: R$ 0,00 (nÃ£o se aplica)
    â”œâ”€ PreÃ§o Final: R$ 1.799,99
    â”œâ”€ Quantidade no carrinho: 1
    â””â”€ Subtotal: 1 Ã— R$ 1.799,99 = R$ 1.799,99


    EXEMPLO 2: Produto Usado (com desconto)
    â”œâ”€ Nome: Smartphone XYZ
    â”œâ”€ Tipo: Usado
    â”œâ”€ PreÃ§o: R$ 999,99
    â”œâ”€ Desconto para usados: R$ 100,00
    â”œâ”€ PreÃ§o Final: R$ 999,99 - R$ 100,00 = R$ 899,99
    â”œâ”€ Quantidade no carrinho: 2
    â””â”€ Subtotal: 2 Ã— R$ 899,99 = R$ 1.799,98


    CÃLCULO NO CARRINHO:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Produto       â”‚ PreÃ§o    â”‚ Qtd    â”‚ C/Desc.  â”‚ Subtotal   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Smartphone    â”‚ 999,99   â”‚ 2      â”‚ 899,99   â”‚ 1.799,98   â”‚
    â”‚ Fone BT       â”‚ 149,99   â”‚ 1      â”‚ 149,99   â”‚ 149,99     â”‚
    â”‚ Notebook      â”‚ 1.799,99 â”‚ 1      â”‚ 1.799,99 â”‚ 1.799,99   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                          TOTAL ITENS: 4                   â”‚
    â”‚                          TOTAL: R$ 3.749,96               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ARQUIVOS CRIADOS/MODIFICADOS                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    âœ… NOVO: sistema/carrinho.php
    â”œâ”€ FunÃ§Ã£o: Gerenciar carrinho (adicionar, remover, visualizar, comprar)
    â”œâ”€ AÃ§Ãµes POST:
    â”‚  â”œâ”€ adicionar: Adiciona produto ao carrinho
    â”‚  â”œâ”€ remover: Remove item especÃ­fico
    â”‚  â”œâ”€ atualizar_quantidade: Muda qtd de um item
    â”‚  â””â”€ finalizar_compra: TransaÃ§Ã£o SQL completa
    â”œâ”€ Interface: Tabela responsiva com Bootstrap
    â””â”€ SeguranÃ§a: Requer autenticaÃ§Ã£o cliente (verificar_cliente())


    ğŸ”„ MODIFICADO: sistema/hub.php
    â”œâ”€ Nova navbar link: "ğŸ›’ Carrinho" (com contador de itens)
    â”œâ”€ Novo formulÃ¡rio em cada card de produto:
    â”‚  â”œâ”€ Campo quantidade (dinÃ¢mico, mÃ¡x = estoque)
    â”‚  â”œâ”€ BotÃ£o "+ Carrinho" (desabilitado se sem estoque)
    â”‚  â””â”€ POST para carrinho.php com aÃ§Ã£o="adicionar"
    â””â”€ CSS: Ajustes no layout do product-footer para formulÃ¡rio


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš€ TESTE RÃPIDO (PASSO A PASSO)                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    1. Login como cliente:
       Email: joao.silva@example.com
       Senha: 1245

    2. Acesse: http://localhost/xampp/htdocs/loja_online/sistema/hub.php

    3. Procure um produto com estoque > 0 (ex: "Smartphone XYZ")

    4. Digite quantidade: 2

    5. Clique "+ Carrinho"
       âœ“ Deve redirecionar para carrinho.php
       âœ“ Navbar deve mostrar "ğŸ›’ Carrinho [1]" (1 item)

    6. Clique no link "ğŸ›’ Carrinho" na navbar

    7. Visualize a tabela com:
       â€¢ Nome: Smartphone XYZ
       â€¢ Categoria: Eletronico
       â€¢ Loja: Amazon(as) - SÃ£o Paulo
       â€¢ Qtd: 2
       â€¢ PreÃ§o: R$ 899,99 (com desconto de usado)
       â€¢ Subtotal: R$ 1.799,98

    8. Teste atualizar quantidade: altere para 3
       âœ“ Subtotal deve atualizar para R$ 2.699,97

    9. Teste remover: clique "Remover"
       âœ“ Item sai da tabela
       âœ“ Navbar volta a "ğŸ›’ Carrinho" (sem contador)

   10. Adicione um novo produto

   11. Clique "Finalizar Compra"
       âœ“ Deve aparecer: "âœ… Compra finalizada com sucesso! Pedido #[id]"
       âœ“ Carrinho limpa

   12. Verifique banco de dados:
       SELECT * FROM Venda WHERE id_cliente = 1;
       SELECT * FROM ItemVenda WHERE id_venda = 1;
       SELECT quantidade_disponivel FROM Estoque WHERE id_produto = 1;
       âœ“ Deve ter novo registro em Venda
       âœ“ Deve ter novo registro em ItemVenda
       âœ“ Estoque deve ter diminuÃ­do


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ POSSÃVEIS ERROS E SOLUÃ‡Ã•ES                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ERRO: "Estoque insuficiente para alguns itens"
    CAUSA: Cliente mudou quantidade mas estoque foi comprado por outro
    SOLUÃ‡ÃƒO: Reduzir quantidade no carrinho e tentar novamente


    ERRO: "Erro ao finalizar compra: SQLSTATE..."
    CAUSA: Problema de conexÃ£o ou integridade referencial
    SOLUÃ‡ÃƒO: Verificar conexÃ£o MySQL e estrutura de FK nas tabelas


    AVISO: Carrinho desaparece ao fazer logout
    CAUSA: $_SESSION Ã© destruÃ­da no logout
    SOLUÃ‡ÃƒO: Normal, cliente precisa fazer login novamente (seguranÃ§a)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ¨ RECURSOS IMPLEMENTADOS                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    âœ… Adicionar produtos ao carrinho
    âœ… Visualizar todos os itens em tabela
    âœ… Atualizar quantidade de cada item
    âœ… Remover itens do carrinho
    âœ… Calcular subtotal com desconto (se Usado)
    âœ… ValidaÃ§Ã£o de estoque PRÃ‰-FINALIZAÃ‡ÃƒO
    âœ… TransaÃ§Ã£o SQL com rollback em caso de erro
    âœ… Contador de itens no navbar
    âœ… Responsivo (mobile/tablet/desktop)
    âœ… Mensagens de sucesso/erro claras
    âœ… ProteÃ§Ã£o por autenticaÃ§Ã£o (cliente)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“š DOCUMENTAÃ‡ÃƒO COMPLETA                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Abra: http://localhost/xampp/htdocs/loja_online/CARRINHO_DOCUMENTACAO.html

    ContÃ©m:
    â€¢ ExplicaÃ§Ã£o tÃ©cnica detalhada
    â€¢ Diagramas de fluxo
    â€¢ CÃ³digo SQL comentado
    â€¢ Exemplos de cÃ¡lculos
    â€¢ PrÃ³ximos passos sugeridos


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ âœ… SISTEMA DE CARRINHO TOTALMENTE IMPLEMENTADO E PRONTO PARA USO!            â•‘
â•‘ ğŸ‰ Bom trabalho! Todo o fluxo e transaÃ§Ãµes estÃ£o funcionando                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
